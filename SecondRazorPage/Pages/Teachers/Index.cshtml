@page
@model SecondRazorPage.Pages.Teachers.IndexModel

@{
    Layout = null; 
    ViewData["Title"] = "Trang Gi·∫£ng Vi√™n";
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/css/StudentRes.css" />
</head>
<body>

<div class="app">
    <aside class="sidebar">
        <div class="brand">
            <div class="brand-logo">KHTN</div>
            <h3>C·ªîNG GI·∫¢NG VI√äN</h3>
            <p>ƒê·∫°i h·ªçc Khoa h·ªçc T·ª± nhi√™n</p>
        </div>

        <nav class="menu">
            <a href="/Teachers/Profile?teacherCode=@Model.CurrentTeacher?.MSGV">
                <i class="icon">üë§</i> H·ªì s∆° gi·∫£ng vi√™n
            </a>

            <a class="active" href="/Teachers/Index?teacherCode=@Model.CurrentTeacher?.MSGV">
                <i class="icon">üìù</i> Qu·∫£n l√Ω l·ªõp h·ªçc ph·∫ßn
            </a>
            <a href="/Teachers/lichday?teacherCode=@Model.CurrentTeacher?.MSGV">
                <i class="icon">üìÖ</i> L·ªãch d·∫°y
            </a>
        </nav>
        <a asp-page="/LoginPage/Index">
        
             <button class="logout" type="submit">ƒêƒÉng xu·∫•t</button>
       </a>
    </aside>

    <main class="main">
        <header class="topbar">
            <div class="search">
                <input type="text" id="class-search" placeholder="T√¨m ki·∫øm l·ªõp h·ªçc..." />
                <button aria-label="search">üîç</button>
            </div>
            <div class="user-info">
                <span>Xin ch√†o, GV. <strong>@(Model.CurrentTeacher != null ? Model.CurrentTeacher.name : "Kh√°ch")</strong></span>
            </div>
        </header>

        <section class="content-grid">
            <div class="card card-blue">
                <h2>Danh s√°ch l·ªõp ph·ª• tr√°ch</h2>
                
                <select class="term-dropdown">
                    <option value="">-- T·∫•t c·∫£ h·ªçc k·ª≥ --</option>
                    <option value="HK1">H·ªçc k·ª≥ 1</option>
                    <option value="HK2">H·ªçc k·ª≥ 2</option>
                </select>

                <table class="mini-table" id="teacher-table">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>M√£ L·ªõp</th>
                            <th>T√™n M√¥n H·ªçc</th>
                            <th>Ph√≤ng</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-term="HK1">
                            <td>1</td>
                            <td>25CTT5</td>
                            <td>C·∫•u tr√∫c d·ªØ li·ªáu</td>
                            <td>C32</td>
                            <td><button class="btn-action">Nh·∫≠p ƒëi·ªÉm</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
</div>

<script>
    function filterClass() {
        const selected = document.querySelector(".term-dropdown").value;
        const rows = document.querySelectorAll("#teacher-table tbody tr");
        const searchQuery = document.getElementById("class-search").value.toLowerCase();

        rows.forEach(row => {
            const termMatch = selected === "" || row.getAttribute("data-term") === selected;
            const subjectName = row.cells[2].textContent.toLowerCase(); 
            const searchMatch = subjectName.includes(searchQuery);
            row.style.display = (termMatch && searchMatch) ? "" : "none";
        });
    }
    document.querySelector(".term-dropdown").addEventListener("change", filterClass);
    document.getElementById("class-search").addEventListener("keyup", filterClass);
</script>

</body>
</html>