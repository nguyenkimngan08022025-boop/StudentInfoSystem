@page
@model SecondRazorPage.Pages.Student.CTSVModel

@{
    Layout = "_StudentLayout";
    ViewData["Title"] = "Công tác sinh viên";
    ViewData["CssFile"] = "CTSV.css";   // load đúng css
}

<!-- DÁN phần <body> của bangdiem.html vào đây -->
<div class="app">
    <aside class="sidebar">
        <div class="brand">
            <div class="brand-logo">KHTN</div>
            <h3>TRANG NGƯỜI HỌC</h3>
            <p>Đại học Khoa học Tự nhiên</p>
        </div>

        <nav class="menu">
            <a href="/Categories/Index"><i class="icon">👤</i> Thông tin cá nhân</a>
            <a href="/StudyResult/Index"><i class="icon">📚</i> Kết quả học tập</a>
            <a class="active" href="/Student/CTSV"><i class="icon">🏛️</i> Công tác sinh viên</a>
            <a href="/Student/LichHocThi"><i class="icon">🗓️</i> Lịch học/thi</a>
            <a href="/Student/HocPhi"><i class="icon">💰</i> Học phí</a>
            <a href="/Student/ThongBao"><i class="icon">🔔</i> Thông báo</a>
        </nav>

        <button class="logout">Đăng xuất</button>
    </aside>

    <main class="main">
        <header class="topbar">
            <div class="search">
                <input type="text" placeholder="Tìm kiếm thông tin..." />
                <button aria-label="search">🔍</button>
            </div>
        </header>

        <section class="content-grid">
            <div class="card card-blue">
                <h2>Điểm rèn luyện</h2>
                <table class="mini-table">
                    <thead>
                        <tr><th>Năm học</th><th>Học kỳ</th><th>Điểm</th><th>Xếp loại</th><th>Thời điểm</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>2023-2024</td><td>1</td><td>92</td><td>Xuất sắc</td><td>2024-01-15</td></tr>
                        <tr><td>2022-2023</td><td>2</td><td>85</td><td>Tốt</td><td>2023-07-30</td></tr>
                        <tr><td>2022-2023</td><td>1</td><td>88</td><td>Tốt</td><td>2023-01-20</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="card card-orange">
                <h2>Học bổng</h2>
                <table class="mini-table">
                    <thead>
                        <tr><th>Năm học</th><th>Học kỳ</th><th>Loại</th><th>Số tiền</th><th>Thời gian</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>2023-2024</td><td>1</td><td>Khuyến khích học tập</td><td>5.000.000 VNĐ</td><td>2024-03-01</td></tr>
                        <tr><td>2022-2023</td><td>2</td><td>Đồng hành</td><td>2.000.000 VNĐ</td><td>2023-10-15</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="card card-blue">
                <h2>Khen thưởng</h2>
                <table class="mini-table">
                    <thead>
                        <tr><th>Hình thức</th><th>Thời gian</th><th>Ghi chú</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Giấy khen</td><td>2024-05-10</td><td>Đạt thành tích xuất sắc trong công tác Đoàn/Hội</td></tr>
                        <tr><td>Thưởng bằng tiền mặt</td><td>2023-12-05</td><td>Đạt giải Nhì cuộc thi Olympic Tin học</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="card card-orange">
                <h2>Kỷ luật</h2>
                <table class="mini-table">
                    <thead>
                        <tr><th>Hình thức</th><th>Thời gian</th><th>Ghi chú</th></tr>
                    </thead>
                    <tbody>
                        <tr><td colspan="3" class="empty">Chưa có dữ liệu</td></tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
</div>

@section Scripts {
    <script>
        const searchInput = document.querySelector(".search input");
        const searchButton = document.querySelector(".search button");

        function handleSearch() {
            const keyword = searchInput.value.trim().toLowerCase();

            // Danh sách từ khóa → đường dẫn
            const links = [
                { keywords: ["Hội thảo", "seminar", "hoi thao"], url: "https://www.facebook.com/DoanHoiHCMUS/" },
                { keywords: ["Workshop", "hoat dong", "diem ren luyen"], url: "https://www.facebook.com/sab.ctda" },
                { keywords: ["tinh nguyen", "hien mau", " the thao", "vieclam"], url: "https://www.facebook.com/story.php/?story_fbid=1106243334879857&id=100064826013158" },
                { keywords: ["học phí", "hoc phi"], url: "hocphi.html" },
                { keywords: ["công tác sinh viên", "hoc phi"], url: "/congtacsinhvien.html" },
            ];

            // Tìm trang phù hợp
            for (let item of links) {
                if (item.keywords.some(kw => keyword.includes(kw))) {
                    window.location.href = item.url;
                    return;
                }
            }

            // Nếu không có từ khóa phù hợp
            alert("Không tìm thấy nội dung phù hợp. Vui lòng thử lại.");
        }

        // Nhấn nút
        searchButton.addEventListener("click", handleSearch);

        // Nhấn Enter
        searchInput.addEventListener("keydown", function(e) {
            if (e.key === "Enter") {
                handleSearch();
            }
        });
    </script>
}
